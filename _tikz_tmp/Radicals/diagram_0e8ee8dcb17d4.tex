\documentclass[preview]{standalone}
\usepackage{amsthm, amsfonts, amsmath, amssymb, mathrsfs, tikz-cd, tikz, ctex, mathtools}
\usepackage[dvipsnames]{xcolor}
\usepackage{quiver}
\begin{document}

% https://q.uiver.app/#q=WzAsMTEsWzEsMiwiXFxrZXIgcCJdLFsyLDIsIlAiXSxbMiwxLCJOIl0sWzMsMiwiTSJdLFswLDIsIjAiXSxbNCwyLCIwIl0sWzEsMSwiTiBcXGNhcCBcXGtlciBwIl0sWzMsMSwiTSJdLFswLDEsIjAiXSxbNCwxLCIwIl0sWzMsMCwiUCJdLFs0LDBdLFswLDEsIiIsMCx7InN0eWxlIjp7InRhaWwiOnsibmFtZSI6Imhvb2siLCJzaWRlIjoidG9wIn19fV0sWzEsMywicCIsMCx7InN0eWxlIjp7ImhlYWQiOnsibmFtZSI6ImVwaSJ9fX1dLFszLDVdLFsyLDEsIlxcbGFtYmRhIiwyLHsic3R5bGUiOnsidGFpbCI6eyJuYW1lIjoiaG9vayIsInNpZGUiOiJ0b3AifX19XSxbNiwwLCIiLDAseyJzdHlsZSI6eyJ0YWlsIjp7Im5hbWUiOiJob29rIiwic2lkZSI6InRvcCJ9fX1dLFs2LDIsIiIsMSx7InN0eWxlIjp7InRhaWwiOnsibmFtZSI6Imhvb2siLCJzaWRlIjoidG9wIn19fV0sWzIsNywiIiwwLHsic3R5bGUiOnsiaGVhZCI6eyJuYW1lIjoiZXBpIn19fV0sWzcsMywiIiwwLHsibGV2ZWwiOjIsInN0eWxlIjp7ImhlYWQiOnsibmFtZSI6Im5vbmUifX19XSxbOCw2XSxbNyw5XSxbMTAsNywicCIsMCx7InN0eWxlIjp7ImhlYWQiOnsibmFtZSI6ImVwaSJ9fX1dLFsxMCwyLCJsIiwyLHsiY3VydmUiOjEsInN0eWxlIjp7ImJvZHkiOnsibmFtZSI6ImRhc2hlZCJ9fX1dXQ==
\begin{tikzcd}[ampersand replacement=\&]
    \&\&\& P \\
    0 \& {N \cap \ker p} \& N \& M \& 0 \\
    0 \& {\ker p} \& P \& M \& 0
    \arrow["l"', curve={height=6pt}, dashed, from=1-4, to=2-3]
    \arrow["p", two heads, from=1-4, to=2-4]
    \arrow[from=2-1, to=2-2]
    \arrow[hook, from=2-2, to=2-3]
    \arrow[hook, from=2-2, to=3-2]
    \arrow[two heads, from=2-3, to=2-4]
    \arrow["\lambda"', hook, from=2-3, to=3-3]
    \arrow[from=2-4, to=2-5]
    \arrow[equals, from=2-4, to=3-4]
    \arrow[from=3-1, to=3-2]
    \arrow[hook, from=3-2, to=3-3]
    \arrow["p", two heads, from=3-3, to=3-4]
    \arrow[from=3-4, to=3-5]
\end{tikzcd}
\end{document}
